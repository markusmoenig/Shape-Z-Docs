---
sidebar_position: 4
title: Distance Volumes
---
import ShpzPlayground from '@site/src/components/ShpzPlayground';

All distance nodes accept three optional blocks:

* **`profile_scale { … }`** &mdash; scale factor applied **before** the SDF (tapers, squash-and-stretch).  
* **`profile_offset { … }`** &mdash; linear offset (world units) **subtracted** from the SDF (grooves, panels).  
* **`volume { … }`** &mdash; runs only where the (possibly deformed) SDF is ≤ 0, letting you assign materials or patterns.

Same as in shapes we also have these two helper variables (they shadow the shape variables);

* `sdf` – the raw signed distance (negative inside, positive outside).  
* `inside` – convenience alias for `-sdf` (positive inside, zero on the surface).

---

## Sphere

* `at`: centre &mdash; *default:* segment origin (`point_at(0)`).
* `radius`(float): sphere radius &mdash; *default:* `0.5`.

<ShpzPlayground
  code={`\
voxel Box size = vec3(3, 3, 3) {
    shape Rect {
        segment Floor depth = 3.0 {
            distance Sphere at = 0.5 radius = 1.5 {
                volume {
                    Metal;
                }
            }
        }
    }
}
place Box at = vec3(0, 0, 0);\
`}
  height={300}
  caption="Sphere"
/>

Simple ball shape.

---

## Box

* `at`: centre.
* `size` (vec3): half-sizes (x y z) &mdash; *default:* `vec3(0.5)`.
* `rounding` (float): edge bevel radius &mdash; *default:* `0.0`.

<ShpzPlayground
  code={`\
voxel Box size = vec3(3, 3, 3) {
    shape Rect {
        segment Floor depth = 3.0 {
            distance Box at = 0.5 size = vec3(1.0, 0.8, 0.6) {
                volume {
                    Metal;
                }
            }
        }
    }
}
place Box at = vec3(0, 0, 0);\
`}
  height={300}
  caption="Box"
/>

Cuboid with optional bevel.

---

## Capsule

* `from` (vec3): axis start.
* `to` (vec3): axis end.
* `radius` (float): cylinder/hemisphere radius &mdash; *default:* `0.5`.

<ShpzPlayground
  code={`\
voxel Box size = vec3(3, 3, 3) {
    shape Rect {
        segment Floor depth = 3.0 {
            distance Capsule from = vec3(0.5, 0.5, 0.2) to = vec3(0.5, 0.5, 2.8) radius = 0.5 {
                volume {
                    Metal;
                }
            }
        }
    }
}
place Box at = vec3(0, 0, 0);\
`}
  height={300}
  caption="Capsule"
/>

Cylinder capped by hemispheres.

---

## Cylinder

* `from` (vec3): axis start.
* `to` (vec3): axis end.
* `radius` (float): cylinder radius.

<ShpzPlayground
  code={`\
voxel Box size = vec3(3, 3, 3) {
    shape Rect {
        segment Floor depth = 3.0 {
            distance Cylinder from = vec3(0.5, 0.5, 0.2) to = vec3(0.5, 0.5, 2.8) radius = 1.0 {
                volume {
                    Metal;
                }
            }
        }
    }
}
place Box at = vec3(0, 0, 0);\
`}
  height={300}
  caption="Cylinder"
/>

Flat-capped cylinder.

---

## Cone

* `from` (vec3): axis start.
* `to` (vec3): axis end.
* `radius1` (float): base half-diameter &mdash; *default:* `0.5`.
* `radius2` (float): top half-diameter &mdash; *default:* `0.25`.

<ShpzPlayground
  code={`\
voxel Box size = vec3(3, 3, 3) {
    shape Rect {
        segment Floor depth = 3.0 {
            distance Cone from = vec3(0.5, 0.5, 0.0) to = vec3(0.5, 0.5, 3.0) radius1 = 1.0 radius2 = 0.3 {
                volume {
                    Metal;
                }
            }
        }
    }
}
place Box at = vec3(0, 0, 0);\
`}
  height={300}
  caption="Cone"
/>

Linear taper.

---

## Vesica

* `from` (vec3): axis start.
* `to` (vec3): axis end.
* `radius` (float): lens half-thickness &mdash; *default:* `0.5`.

<ShpzPlayground
  code={`\
voxel Box size = vec3(3, 3, 3) {
    shape Rect {
        segment Floor depth = 3.0 {
            distance Vesica from = vec3(0.5, 0.5, 0.2) to = vec3(0.5, 0.5, 2.8) radius = 1.0 {
                volume {
                    Metal;
                }
            }
        }
    }
}
place Box at = vec3(0, 0, 0);\
`}
  height={300}
  caption="Vesica"
/>

Lens / rugby-ball shape.

---

## NgonFrustum

* `from`, `to` (vec3): axis ends.
* `sides` (int ≥ 3): number of sides &mdash; *default:* `4`.
* `base` (float): inscribed radius at `from`.
* `top` (float): inscribed radius at `to`.
* `phase` (float radians): rotation offset &mdash; *default:* `0`.

<ShpzPlayground
  code={`\
voxel Box size = vec3(3, 3, 3) {
    shape Rect {
        segment Floor depth = 3.0 {
            distance NgonFrustum from = vec3(0.5, 0.5, 0.0) to = vec3(0.5, 0.5, 3.0) sides = 6 base = 1.0 top = 0.5 phase = 0 {
                volume {
                    Metal;
                }
            }
        }
    }
}
place Box at = vec3(0, 0, 0);\
`}
  height={300}
  caption="NgonFrustum"
/>

Extruded regular N-gon; `sides = 4` gives a pyramid frustum.

---

## RectFrustum

* `from`, `to` (vec3): axis ends.
* `base_wh` (vec2): width × height at `from`.
* `top_wh` (vec2): width × height at `to` &mdash; *default:* same as `base_wh`.
* `angle` (float radians): rotation &mdash; *default:* `0`.

<ShpzPlayground
  code={`\
voxel Box size = vec3(3, 3, 3) {
    shape Rect {
        segment Floor depth = 3.0 {
            distance RectFrustum from = vec3(0.5, 0.5, 0.0) to = vec3(0.5, 0.5, 3.0) base_wh = vec2(1.4, 0.6) top_wh = vec2(0.6, 1.0) angle = 0 {
                volume {
                    Metal;
                }
            }
        }
    }
}
place Box at = vec3(0, 0, 0);\
`}
  height={300}
  caption="RectFrustum"
/>

Rectangular frustum; equal sizes produce a straight box column.
