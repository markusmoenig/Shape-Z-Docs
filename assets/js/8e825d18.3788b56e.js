(self.webpackChunkshape_z_docs=self.webpackChunkshape_z_docs||[]).push([[608],{419:()=>{},3434:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(6540),s=n(961),i=n(8553),o=n(4779),a=n(8918),c=n(8215);var l=n(4848);function d({src:e=null,code:t="shape Rect {\n  if inside { Color(1.0, 0.9, 0.8); }\n}",height:n=400,initialSplit:d=80,autoCompile:u=!1,caption:h="",renderWidth:f=400,renderHeight:m=400,samplesPerFrame:p=1,totalSamples:g=10}){const[x,y]=(0,r.useState)(t),[w,b]=(0,r.useState)("Ready"),[v,k]=(0,r.useState)(!1),[j,S]=(0,r.useState)("Ready"),[R,C]=(0,r.useState)(""),_=(0,r.useRef)(null),M=(0,r.useRef)(null),z=(0,r.useRef)(null),L=(0,r.useRef)(null),E=(0,r.useRef)(0),W=(0,r.useRef)(!1),A=(0,r.useRef)(null),I="undefined"!=typeof window,B=async()=>{await new Promise(e=>requestAnimationFrame(()=>e())),await new Promise(e=>setTimeout(e,0))},q=(0,r.useCallback)(e=>{if(!M.current||!z.current)return;const t=Math.min(90,Math.max(10,e));M.current.style.width=`${t}%`,z.current.style.width=100-t+"%"},[]),D=()=>{E.current&&cancelAnimationFrame(E.current),E.current=0};(0,r.useEffect)(()=>{if(!I)return;if(!e)return;if(D(),L.current){const e=L.current;e.getContext("2d").clearRect(0,0,e.width,e.height)}let t=!1;return b("Loading source\u2026"),fetch(e).then(t=>{if(!t.ok)throw new Error(`Failed to load ${e} (${t.status})`);return t.text()}).then(e=>{t||(y(e),b("Source loaded"))}).catch(e=>{t||(console.error(e),b("Load failed: "+(e.message||e)))}),()=>{t=!0}},[e,I]);const F=(0,r.useCallback)((e,t,n)=>{const r=L.current;if(!r)return;r.width!==t&&(r.width=t),r.height!==n&&(r.height=n);const s=r.getContext("2d");if(e&&e.length){const r=new ImageData(new Uint8ClampedArray(e),t,n);s.putImageData(r,0,0)}else s.clearRect(0,0,r.width,r.height)},[]),N=(0,r.useCallback)(async e=>{if(e.Renderer&&"function"==typeof e.Renderer){const r=new e.Renderer(x,f,m);if("function"==typeof r.set_target_samples)try{r.set_target_samples(g>>>0)}catch(t){}let s=g>>>0;if("function"==typeof r.target_samples)try{s=r.target_samples()}catch(t){}try{if("function"==typeof r.prepare&&r.prepare(),"function"==typeof r.exec_summary){const e=r.exec_summary();e&&S(e)}}catch(n){return console.error("Renderer prepare failed:",n),void C("ERR")}await B(),C(`0/${s}`);const i=()=>{try{let e=!1;const n=p>>>0||1;if("function"==typeof r.step_samples)e=r.step_samples(n);else{if("function"!=typeof r.step)throw new Error("Renderer has no step/step_samples");e=r.step(n)}const o=r.frame_rgba();F(o,r.width,r.height);let a=0,c=null;if("function"==typeof r.progress)try{a=Math.max(0,Math.min(1,r.progress()))}catch(t){}if("function"==typeof r.current_samples)try{c=r.current_samples()}catch(t){}null!=c&&s&&(a=Math.max(a,Math.min(1,c/s)));Math.round(100*a);const l=null!=c?c:Math.round(a*s);C(`${l}/${s}`),e?(C(""),E.current=0):E.current=requestAnimationFrame(i)}catch(n){console.error("Progressive render failed:",n),C("ERR"),E.current=0}};return void i()}if("function"==typeof e.compile){b("Compiling\u2026");const t=e.compile(x);if(!t||0===t.length)throw new Error("Empty byte buffer");const n=new Blob([t],{type:"image/png"}),r=URL.createObjectURL(n),s=new Image;return s.onload=()=>{const e=L.current;if(!e)return;e.width=s.width,e.height=s.height;e.getContext("2d").drawImage(s,0,0),URL.revokeObjectURL(r),C("")},s.onerror=()=>b("Render failed"),void(s.src=r)}throw new Error("No rendering function found in WASM module")},[x,f,m,p,g,F]),$=(0,r.useCallback)(async()=>{D(),(0,s.flushSync)(()=>{k(!0),C("Compiling Voxels\u2026")}),await B();try{if(!I||!window.shapezWasmModule)throw new Error("WASM not ready");const e=await window.shapezWasmModule;if("function"==typeof e.compile_check){b("Checking\u2026");const t=e.compile_check(x,f,m),n="function"==typeof t.ok?t.ok():t.ok,r="function"==typeof t.message?t.message():t.message;if(S(r||(n?"OK":"Error")),!n)return C(""),void k(!1)}await N(e)}catch(e){console.error(e),b(String(e.message||e)),C("")}finally{k(!1)}},[I,x,f,m,N]),T=(0,r.useCallback)(async()=>{D(),C("");try{if(!I||!window.shapezWasmModule)return;const e=await window.shapezWasmModule;if("function"==typeof e.compile_check){b("Checking\u2026");const t=e.compile_check(x,f,m),n="function"==typeof t.ok?t.ok():t.ok,r="function"==typeof t.message?t.message():t.message;S(r||(n?"OK":"Error"))}}catch(e){console.error(e),b(String(e.message||e))}},[I,x,f,m]);(0,r.useEffect)(()=>{if(!I)return;const e=`shpz-split:${location.pathname}:${h||"default"}`;A.current=e;const t=Number(sessionStorage.getItem(e));q(!Number.isNaN(t)&&t>0?t:d)},[q,h,d,I]),(0,r.useEffect)(()=>{if(!u)return;const e=setTimeout(()=>T(),350);return()=>clearTimeout(e)},[x,u,T]);const O=e=>{if(!W.current||!_.current)return;const t=_.current.getBoundingClientRect(),n=(e.clientX-t.left)/t.width*100;q(n)},Z=()=>{if(W.current&&(W.current=!1,I&&A.current&&M.current&&_.current)){const e=_.current.getBoundingClientRect(),t=M.current.getBoundingClientRect().width/e.width*100;sessionStorage.setItem(A.current,String(Math.round(t)))}};return(0,r.useEffect)(()=>{if(I)return window.addEventListener("mousemove",O),window.addEventListener("mouseup",Z),()=>{window.removeEventListener("mousemove",O),window.removeEventListener("mouseup",Z),D()}},[I]),(0,l.jsxs)("div",{ref:_,style:{display:"flex",flexDirection:"column",border:"1px solid var(--ifm-color-emphasis-200, #ccc)",height:`${n}px`,width:"100%",overflow:"hidden",borderRadius:6,fontFamily:"var(--ifm-font-family-base)",background:"var(--ifm-background-color)",marginBottom:"1.5rem"},children:[h?(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.4rem 0.75rem",backgroundColor:"var(--ifm-color-emphasis-100, #f7f7f7)",borderBottom:"1px solid var(--ifm-color-emphasis-200, #ccc)",fontSize:13,color:"var(--ifm-color-emphasis-700, #555)"},children:[(0,l.jsx)("span",{children:h}),(0,l.jsx)("span",{style:{fontFamily:"ui-monospace, SFMono-Regular, Menlo, monospace",fontVariantNumeric:"tabular-nums",opacity:.75},children:R})]}):null,(0,l.jsxs)("div",{style:{display:"flex",flex:1,overflow:"hidden"},children:[(0,l.jsx)("div",{ref:M,style:{width:"50%",minWidth:"20%"},children:(0,l.jsx)(i.Ay,{height:"100%",defaultLanguage:"shpz",value:x,onChange:e=>{D(),C(""),y(e??"")},theme:"vs-dark",options:{fontSize:14,minimap:{enabled:!1},scrollBeyondLastLine:!1},onMount:async(e,t)=>{try{await async function(e,t){const n=await fetch("/onigasm.wasm");await(0,c.loadWASM)(await n.arrayBuffer()),e.languages.register({id:"shpz"});const r=new o.Registry({getGrammarDefinition:async e=>"source.shpz"===e?{format:"json",content:await fetch("/grammars/shapez.tmLanguage.json").then(e=>e.text())}:null}),s=new Map([["shpz","source.shpz"]]);await(0,a.J)(e,r,s,t)}(t,e)}catch(n){console.error("Grammar setup failed:",n)}}})}),(0,l.jsx)("div",{onMouseDown:()=>{W.current=!0},onDoubleClick:()=>q(d),title:"Drag to resize \u2022 Double\u2011click to reset",style:{width:6,cursor:"col-resize",backgroundColor:"var(--ifm-color-emphasis-200, #eee)",zIndex:1}}),(0,l.jsx)("div",{ref:z,style:{width:"50%",minWidth:"20%",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--ifm-background-surface-color, #f9f9f9)"},children:(0,l.jsx)("canvas",{ref:L,style:{maxWidth:"100%",maxHeight:"100%"}})})]}),(0,l.jsxs)("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"space-between",alignItems:"center",padding:"0.5rem 0.75rem",backgroundColor:"var(--ifm-color-emphasis-100, #f0f0f0)",borderTop:"1px solid var(--ifm-color-emphasis-200, #ccc)"},children:[(0,l.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:(0,l.jsx)("button",{onClick:$,disabled:v,style:{padding:"0.35rem 0.8rem",borderRadius:6,border:"1px solid var(--ifm-color-primary)",background:"var(--ifm-color-primary)",color:"white",fontSize:13,lineHeight:1.2,cursor:v?"default":"pointer",opacity:v?.85:1,transition:"opacity 120ms ease"},children:v?"Working\u2026":"Compile & Render"})}),(0,l.jsx)("span",{style:{fontSize:13,color:"var(--ifm-color-emphasis-700, #555)"},children:j})]})]})}},7384:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"quick_start","title":"Quick Start Guide","description":"Let\'s get started with Shape-Z by creating a voxel box with the dimensions of 4x4x4 units and placing it at the origin. One unit (or tile) corresponds to a 1x1x1 cube in world space. By default Shape-Z uses a density of 40, meaning:","source":"@site/docs/quick_start.mdx","sourceDirName":".","slug":"/quick_start","permalink":"/docs/quick_start","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Installation","permalink":"/docs/installation"}}');var s=n(4848),i=n(8453),o=n(3434);const a={sidebar_position:2},c="Quick Start Guide",l={},d=[];function u(e){const t={br:"br",code:"code",h1:"h1",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"quick-start-guide",children:"Quick Start Guide"})}),"\n",(0,s.jsxs)(t.p,{children:["Let's get started with ",(0,s.jsx)(t.strong,{children:"Shape-Z"})," by creating a voxel box with the dimensions of 4x4x4 units and placing it at the origin. One unit (or tile) corresponds to a 1x1x1 cube in world space. By default ",(0,s.jsx)(t.strong,{children:"Shape-Z"})," uses a ",(0,s.jsx)(t.strong,{children:"density"})," of ",(0,s.jsx)(t.code,{children:"40"}),", meaning:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"1 unit = 40 \xd7 40 \xd7 40 = 64,000 voxels"}),"\n",(0,s.jsx)(t.li,{children:"A shape of 4x4x4 units becomes 160 \xd7 160 \xd7 160 voxels"}),"\n",(0,s.jsx)(t.li,{children:"That\u2019s a total of 4,096,000 voxels"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"You can easily change the density, more on that later."}),"\n",(0,s.jsx)(o.A,{src:"/examples/quick1.shpz",height:250,caption:"Cube"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"Black"})," material is one of the 4 default materials of ",(0,s.jsx)(t.strong,{children:"Shape-Z"}),". Here, we are simply telling the system to apply the Black material to every voxel inside the box."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Shape-Z"})," uses a math syntax similar to ",(0,s.jsx)(t.strong,{children:"GLSL"}),", but internally it operates entirely on a single type: ",(0,s.jsx)(t.code,{children:"vec3"}),".",(0,s.jsx)(t.br,{}),"\n","In the next example, we manually calculate the distance to a sphere at the center of the voxel box.",(0,s.jsx)(t.br,{}),"\n","While ",(0,s.jsx)(t.strong,{children:"Shape-Z"})," offers many built-in tools to simplify tasks like this, it's helpful to understand that you can also write code much like a fragment shader."]}),"\n",(0,s.jsx)(o.A,{src:"/examples/quick2.shpz",height:300,caption:"Manual Sphere"}),"\n",(0,s.jsxs)(t.p,{children:["The system variable ",(0,s.jsx)(t.code,{children:"local"})," defines the position of each voxel in local space, with the origin at the center of the voxel box."]}),"\n",(0,s.jsx)(t.p,{children:"Now let's get started with some core modeling mechanics. Shapes subdivide space and can further be folded via segments."}),"\n",(0,s.jsx)(o.A,{src:"/examples/quick3.shpz",height:300,caption:"Left Wall"})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}}}]);